<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MP Questoria</title>

  <!-- Telegram WebApp -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <!-- TON Connect UI -->
  <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>

  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app">

    <!-- ===== Главная ===== -->
    <div id="screen-home" class="screen active">
      <h1>🌌 MP Questoria</h1>
      <p id="balance">Баланс: 0 очков</p>

      <button id="linkWallet">🔗 Подключить TON-кошелёк</button>
      <button id="donate">💎 Донат</button>
    </div>

    <!-- ===== Игры ===== -->
    <div id="screen-games" class="screen">
      <h2>🎮 Игры</h2>
      <button id="playSimple">Простая игра</button>
      <button id="playHard">Усложнённая игра</button>
      <button id="playReal">Реалистичная игра</button>
    </div>

    <!-- ===== Рейтинг ===== -->
    <div id="screen-rating" class="screen">
      <h2>🏆 Рейтинг</h2>
      <p id="myPosition">Загрузка...</p>
      <ol id="leaderboardList"></ol>
    </div>

    <!-- ===== Друзья ===== -->
    <div id="screen-friends" class="screen">
      <h2>🤝 Друзья</h2>
      <button id="invite">🤝 Пригласить друга</button>
      <p id="refCount">Загрузка...</p>
      <ul id="refList"></ul>
    </div>

    <!-- ===== Задания ===== -->
    <div id="screen-tasks" class="screen">
      <h2>🎯 Задания</h2>
      <p id="taskInfo">Загрузка...</p>
      <button id="claimTask" style="display:none;">🎁 Забрать награду</button>
    </div>
  </div>

  <!-- ===== Нижнее меню ===== -->
  <div class="bottom-nav">
    <button data-screen="home">
      <div class="icon">🏠</div>
      <div class="label">Главная</div>
    </button>
    <button data-screen="games">
      <div class="icon">🎮</div>
      <div class="label">Игры</div>
    </button>
    <button data-screen="rating">
      <div class="icon">🏆</div>
      <div class="label">Рейтинг</div>
    </button>
    <button data-screen="friends">
      <div class="icon">🤝</div>
      <div class="label">Друзья</div>
    </button>
    <button data-screen="tasks">
      <div class="icon">🎯</div>
      <div class="label">Задания</div>
    </button>
  </div>

  <!-- ===== Модалка кошелька ===== -->
  <div id="walletModal" class="modal hidden">
    <div class="modal-content">
      <h3>💼 TON-кошелёк</h3>
      <button id="reconnectWallet">🔄 Перепривязать</button>
      <button id="disconnectWallet">❌ Отвязать</button>
      <button id="closeWalletModal">✖ Закрыть</button>
    </div>
  </div>
  
<!-- Модальное окно доната -->
<div id="donateModal" class="modal hidden">
  <div class="modal-content donate-grid">
    <h3>💎 Поддержка проекта</h3>

    <div class="donate-cards">
      <div class="donate-card" data-type="unlock_games">
        <h4>🎮 Доступ к играм</h4>
        <p>Разблокировать усложнённые и реалистичные игры</p>
        <span>0.5 TON</span>
      </div>

      <div class="donate-card" data-type="custom_scenarios">
        <h4>🧩 Сценарии</h4>
        <p>Разблокировать пользовательские сценарии</p>
        <span>0.5 TON</span>
      </div>

      <div class="donate-card center" data-type="support">
        <h4>❤️ Поддержать проект</h4>
        <p>Без бонусов, просто поддержка</p>
        <span>0.3 TON</span>
      </div>
    </div>

    <button id="closeDonateModal">✖ Закрыть</button>
  </div>
</div>

  <script src="app.js"></script>
</body>
</html>
